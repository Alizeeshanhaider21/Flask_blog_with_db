{% block content %} {% include "header.html" %}
{{ ckeditor.load(pkg_type="basic") }}
<!-- Page Header -->
<header
  class="masthead"
  style="background-image: url('../static/assets/img/edit-bg.jpg')"
>
  <div class="container position-relative px-4 px-lg-5">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      <div class="col-md-10 col-lg-8 col-xl-7">
        <div class="page-heading">
          <!-- TODO: Show a different h1 if editing existing post -->
        
          {% if id  %}
          <h1>Update Post</h1>
          {% else %}
          <h1>New Post</h1>
          {% endif %}
          
          <span class="subheading"
            >You're going to make a great blog post!</span
          >
        </div>
      </div>
    </div>
  </div>
</header>

<main class="mb-4">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        {% if id %}
        <form method="post" action="/edit-post?post_id={{id}}">
          <div class="mb-3">
            <label for="" class="form-label">Title</label>
            <input type="text" class="form-control" id="" name="title" required  value="{{post.title}}">
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Sub-Title</label>
            <input type="text" class="form-control" id="" name="subtitle" required value="{{post.subtitle}}">
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Author Name</label>
            <input type="text" class="form-control" id="" name="name" required value="{{post.author}}">
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Image_url</label>
            <input type="text" class="form-control" id="" name="imgurl" required value="{{post.img_url}}">
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Content</label>
            {{ ckeditor.create(value=post.body) }}
            
          </div>
          
          <button type="submit" class="btn btn-primary">Add</button>
        </form>
        {% else %}
        <form method="post" action="/add-post">
          <div class="mb-3">
            <label for="" class="form-label">Title</label>
            <input type="text" class="form-control" id="" name="title" required>
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Sub-Title</label>
            <input type="text" class="form-control" id="" name="subtitle" required>
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Author Name</label>
            <input type="text" class="form-control" id="" name="name" required>
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Image_url</label>
            <input type="text" class="form-control" id="" name="imgurl" required>
            
          </div>
          <div class="mb-3">
            <label for="" class="form-label">Content</label>
            {{ ckeditor.create() }}
            
          </div>
          
          <button type="submit" class="btn btn-primary">Add</button>
        </form>
        {% endif %}
       
      </div>
    </div>
  </div>
</main>
{% include "footer.html" %} {% endblock %}
